{"version":3,"sources":["webpack:///./src/views/user/login/validate.js","webpack:///src/views/user/login/Register.vue","webpack:///./src/views/user/login/Register.vue?cdf7","webpack:///./src/views/user/login/Register.vue"],"names":["validatePhone","rule","value","callback","Error","test","validatePwd","length","validateEMail","validateName","Register","name","data","_ref","_this","this","registerForm","account","pwd","checkPwd","email","phone","registerRules","required","validator","asyncToGenerator_default","regenerator_default","a","mark","_callee","res","wrap","_context","prev","next","abrupt","$api","user","validateAccount","sent","status","message","t0","console","log","stop","_x","_x2","_x3","apply","arguments","trigger","registerActive","registerActiveStep","loading","methods","submitForm","formName","_ref2","_this2","sessionStorage","setItem","$router","push","$refs","validate","_callee2","valid","_context2","register","$message","error","_x4","login_Register","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","span","pull","xm","id","active","finish-status","title","_v","enter-active-class","leave-active-class","key","ref","model","status-icon","rules","label-width","label","prop","placeholder","maxlength","$$v","$set","trim","expression","type","href","target","to","_e","on","click","$event","_s","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/5.f3860940000a63b342e5.js","sourcesContent":["\t//手机号\r\nexport const validatePhone = (rule, value, callback) => {\r\n  if (!value) {\r\n    return callback(new Error('输入不可以为空'))\r\n  }\r\n  let pattern = /^1[34578]\\d{9}$/\r\n  if (pattern.test(value)) {\r\n    return callback()\r\n  }\r\n  return callback(new Error('请输入正确格式的手机号'))\r\n}\r\n\r\n\t//账号\r\nexport const validateAccount = (rule, value, callback) => {\r\n  if (!value) {\r\n    return callback(new Error('账号不可以为空'))\r\n  }\r\n  let pattern = /^[a-zA-Z]{1}\\w{5,15}$/\r\n  if (pattern.test(value)) {\r\n    return callback()\r\n  }\r\n  return callback(new Error('请输入正确格式的账号'))\r\n}\r\n\r\n\t//密码\r\nexport const validatePwd = (rule, value, callback) => {\r\n  if (!value) {\r\n    return callback(new Error('密码不能为空'))\r\n  }\r\n\telse if(value.length < 6)\r\n  \treturn callback(new Error('密码长度不能小于6位'))\r\n  else\r\n  \treturn callback()\r\n}\r\n\r\n\t//邮箱\r\nexport const validateEMail = (rule, value, callback) => {\r\n  let reg = /^([a-zA-Z0-9]+[-_\\.]?)+@[a-zA-Z0-9]+\\.[a-z]+$/\r\n  if (!value) {\r\n    return callback(new Error('邮箱地址不能为空'))\r\n  } else {\r\n    if (!reg.test(value)) {\r\n      callback(new Error('请输入正确的邮箱地址'))\r\n    } else {\r\n      callback()\r\n    }\r\n  }\r\n}\r\n\r\n\t//昵称\r\nexport var validateName = (rule, value, callback) => {\r\n  let reg = /^[^ ]{0,16}$/\r\n  if (!value) {\r\n    return callback(new Error('用户名不能为空'))\r\n  } else {\r\n    if (!reg.test(value)) {\r\n      callback(new Error('用户名不能带有空格'))\r\n    } else {\r\n      callback()\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/views/user/login/validate.js","<template>\r\n\t<el-col :span=\"12\" :pull=\"3\" class=\"login\" :xm=\"20\">\r\n\t\t<div id=\"register\">\r\n\t\t\t<el-header>\r\n\t\t\t\t<el-row>\r\n\t\t\t\t\t<el-steps :active=\"registerActive\" finish-status=\"success\" class=\"tal\">\r\n\t\t\t\t\t\t<el-step title=\"注册\"></el-step>\r\n\t\t\t\t\t\t<el-step title=\"昵称\"></el-step>\r\n\t\t\t\t\t\t<el-step title=\"完成\"></el-step>\r\n\t\t\t\t\t</el-steps>\r\n\t\t\t\t</el-row>\r\n\t\t\t</el-header>\r\n\t\t\t<el-main>\r\n\t\t\t\t<el-row>\r\n\t\t\t\t\t<h2>欢迎加入</h2>\r\n\t\t\t\t</el-row>\r\n\t\t\t\t<div class=\"absolute\">\r\n\t\t\t\t\t<transition name=\"slide-fade\" enter-active-class=\"animated zoomIn\" leave-active-class=\"animated zoomOut\">\r\n\t\t\t\t\t\t<el-form :model=\"registerForm\" status-icon :rules=\"registerRules\" ref=\"registerForm\" label-width=\"85px\" v-if=\"registerActive==0\" key=\"0\">\r\n\t\t\t\t\t\t\t<el-form-item label=\"账号:\" prop=\"account\">\r\n\t\t\t\t\t\t\t\t<el-input v-model.trim=\"registerForm.account\" placeholder=\"输入 账号\" maxlength=\"16\"></el-input>\r\n\t\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t\t<span class=\"small pale fr\">长度6至16位，字母开头，由数字、字母、下划线组成</span>\r\n\t\t\t\t\t\t\t<el-form-item label=\"密码:\" prop=\"pwd\">\r\n\t\t\t\t\t\t\t\t<el-input type=\"password\" v-model=\"registerForm.pwd\" placeholder=\"输入 密码\"></el-input>\r\n\t\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t\t<span class=\"request fr\">长度6至16位</span>\r\n\t\t\t\t\t\t\t<el-form-item label=\"确认密码:\" prop=\"checkPwd\">\r\n\t\t\t\t\t\t\t\t<el-input type=\"password\" v-model=\"registerForm.checkPwd\" placeholder=\"再次输入 密码\"></el-input>\r\n\t\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t\t<el-form-item label=\"邮箱地址:\" prop=\"email\">\r\n\t\t\t\t\t\t\t\t<el-input v-model.trim=\"registerForm.email\" placeholder=\"输入 邮箱地址\"></el-input>\r\n\t\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t\t<div class=\"dividing_01\"></div>\r\n\r\n\t\t\t\t\t\t\t<div class=\"small fl\">\r\n\t\t\t\t\t\t\t\t我已了解并同意\r\n\t\t\t\t\t\t\t\t<a href=\"../#/help/announce\" target=\"_blank\">《<span class=\"blue\">圣杯网 用户协议与服务条款</span>》</a>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"small fr\">\r\n\t\t\t\t\t\t\t\t<router-link to=\"/user/login\">返回登录<-</router-link>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</el-form>\r\n\t\t\t\t\t\t<el-form :model=\"registerForm\" status-icon :rules=\"registerRules\" ref=\"registerForm\" label-width=\"80px\" v-if=\"registerActive==1\" key=\"1\">\r\n\t\t\t\t\t\t\t<el-form-item label=\"用户名:\" prop=\"name\">\r\n\t\t\t\t\t\t\t\t<el-input v-model.trim=\"registerForm.name\" placeholder=\"输入 用户名\" maxlength=\"16\"></el-input>\r\n\t\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t\t<span class=\"request fr\">长度最多16位，不允许带有空格，注册后可免费修改一次</span>\r\n\t\t\t\t\t\t\t<el-form-item label=\"手机号:\" prop=\"phone\">\r\n\t\t\t\t\t\t\t\t<el-input v-model.trim=\"registerForm.phone\" placeholder=\"输入 手机号\" maxlength=\"11\"></el-input>\r\n\t\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t\t<div class=\"small fr\">\r\n\t\t\t\t\t\t\t\t<router-link to=\"/user/login\">返回登录<-</router-link>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</el-form>\r\n\t\t\t\t\t\t<el-row v-if=\"registerActive==2\" key=\"2\">\r\n\t\t\t\t\t\t\t<div class=\"large green\" id=\"success\">\r\n\t\t\t\t\t\t\t\t<i class=\"el-icon-success\"></i> 注册成功\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<span class=\"meduim fr\"><a href=\"#\">完善个人信息>></a></span>\r\n\t\t\t\t\t\t</el-row>\r\n\t\t\t\t\t</transition>\r\n\t\t\t\t</div>\r\n\t\t\t</el-main>\r\n\t\t\t<el-footer>\r\n\t\t\t\t<el-button type=\"primary\" @click=\"submitForm('registerForm')\" class=\"bold meduim\" :loading=\"loading\">{{ registerActiveStep[registerActive] }}</el-button>\r\n\t\t\t</el-footer>\r\n\t\t</div>\r\n\t</el-col>\r\n</template>\r\n\r\n<script>\r\n\timport { validatePwd, validateEMail, validatePhone, validateName } from './validate';\r\n\texport default {\r\n\t\tname: 'register',\r\n\t\tdata() {\r\n\t\t\tconst validateCheckPwd = (rule, value, callback) => {\r\n\t\t\t\tif(this.registerForm.pwd == this.registerForm.checkPwd)\r\n\t\t\t\t\treturn callback();\r\n\t\t\t\telse\r\n\t\t\t\t\treturn callback(new Error('两次输入的密码不一致'))\r\n\t\t\t};\r\n\t\t\tconst validateAccount = async(rule, value, callback) => {\r\n\t\t\t\tif(!value)\r\n\t\t\t\t\treturn callback(new Error('账号不可以为空'));\r\n\t\t\t\tlet pattern = /^[a-zA-Z]{1}\\w{5,15}$/;\r\n\t\t\t\tif(!pattern.test(value))\r\n\t\t\t\t\treturn callback(new Error('请输入正确格式的账号'));\r\n\t\t\t\ttry {\r\n\t\t\t\t\tlet res = await this.$api.user.validateAccount({\r\n\t\t\t\t\t\taccount: value\r\n\t\t\t\t\t});\r\n\t\t\t\t\tif(res.status === 2000)\r\n\t\t\t\t\t\treturn callback();\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\treturn callback(new Error(res.message))\r\n\t\t\t\t} catch(e) {\r\n\t\t\t\t\tconsole.log(e);\r\n\t\t\t\t\treturn callback(new Error('服务器忙碌'));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\tregisterForm: {\r\n\t\t\t\t\taccount: '',\r\n\t\t\t\t\tpwd: '',\r\n\t\t\t\t\tcheckPwd: '',\r\n\t\t\t\t\temail: '',\r\n\t\t\t\t\tname: '',\r\n\t\t\t\t\tphone: '',\r\n\t\t\t\t},\r\n\t\t\t\tregisterRules: {\r\n\t\t\t\t\taccount: [{\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tvalidator: validateAccount,\r\n\t\t\t\t\t\ttrigger: 'blur'\r\n\t\t\t\t\t}],\r\n\t\t\t\t\tpwd: [{\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tvalidator: validatePwd,\r\n\t\t\t\t\t\ttrigger: 'blur'\r\n\t\t\t\t\t}],\r\n\t\t\t\t\tcheckPwd: [{\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tvalidator: validateCheckPwd,\r\n\t\t\t\t\t\ttrigger: 'blur'\r\n\t\t\t\t\t}],\r\n\t\t\t\t\temail: [{\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tvalidator: validateEMail,\r\n\t\t\t\t\t\ttrigger: 'blur'\r\n\t\t\t\t\t}],\r\n\t\t\t\t\tname: [{\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tvalidator: validateName,\r\n\t\t\t\t\t\ttrigger: 'blur'\r\n\t\t\t\t\t}],\r\n\t\t\t\t\tphone: [{\r\n\t\t\t\t\t\tvalidator: validatePhone,\r\n\t\t\t\t\t\ttrigger: 'blur'\r\n\t\t\t\t\t}]\r\n\t\t\t\t},\r\n\t\t\t\tregisterActive: 0,\r\n\t\t\t\tregisterActiveStep: ['下 一 步', '注  册', '进  入'],\r\n\t\t\t\tloading: false\r\n\t\t\t};\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tsubmitForm(formName) {\r\n\t\t\t\tif(this.registerActive === 2) {\r\n\t\t\t\t\tsessionStorage.setItem('account', this.registerForm.account);\r\n\t\t\t\t\tthis.$router.push('/user/login');\r\n\t\t\t\t} else this.$refs[formName].validate(async(valid) => {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tif(valid) {\r\n\t\t\t\t\t\t\tthis.loading = true;\r\n\t\t\t\t\t\t\tif(this.registerActive == 1) {\r\n\t\t\t\t\t\t\t\tlet res = await this.$api.user.register(this.registerForm);\r\n\t\t\t\t\t\t\t\tif(res.status == 2000)\r\n\t\t\t\t\t\t\t\t\tthis.registerActive++;\r\n\t\t\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\t\t\tthis.$message.error('服务器繁忙');\r\n\t\t\t\t\t\t\t} else\r\n\t\t\t\t\t\t\t\tthis.registerActive++;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t} catch(e) {\r\n\t\t\t\t\t\tconsole.log(e);\r\n\t\t\t\t\t\tthis.$message.error('服务器繁忙');\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.loading = false;\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped src='@/assets/public/css/animate.css'></style>\r\n<style scoped lang=\"scss\">\r\n\tbutton {\r\n\t\twidth: 100%;\r\n\t}\r\n\t\r\n\tdiv a {\r\n\t\tmargin-left: 10px;\r\n\t}\r\n\t\r\n\tspan {\r\n\t\tmargin-top: -20px;\r\n\t}\r\n\t\r\n\t.absolute>* {\r\n\t\tposition: absolute;\r\n\t\twidth: 100%;\r\n\t}\r\n\t\r\n\t.absolute {\r\n\t\theight: 35vh;\r\n\t\tposition: relative;\r\n\t}\r\n\t\r\n\t#success {\r\n\t\tpadding: 20px;\r\n\t\tbackground-color: #f0f9eb;\r\n\t\ttext-align: left;\r\n\t}\r\n\t\r\n\t.request {\r\n\t\tcolor: #aaa;\r\n\t\tfont-size: 13px;\r\n\t}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/views/user/login/Register.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-col',{staticClass:\"login\",attrs:{\"span\":12,\"pull\":3,\"xm\":20}},[_c('div',{attrs:{\"id\":\"register\"}},[_c('el-header',[_c('el-row',[_c('el-steps',{staticClass:\"tal\",attrs:{\"active\":_vm.registerActive,\"finish-status\":\"success\"}},[_c('el-step',{attrs:{\"title\":\"注册\"}}),_vm._v(\" \"),_c('el-step',{attrs:{\"title\":\"昵称\"}}),_vm._v(\" \"),_c('el-step',{attrs:{\"title\":\"完成\"}})],1)],1)],1),_vm._v(\" \"),_c('el-main',[_c('el-row',[_c('h2',[_vm._v(\"欢迎加入\")])]),_vm._v(\" \"),_c('div',{staticClass:\"absolute\"},[_c('transition',{attrs:{\"name\":\"slide-fade\",\"enter-active-class\":\"animated zoomIn\",\"leave-active-class\":\"animated zoomOut\"}},[(_vm.registerActive==0)?_c('el-form',{key:\"0\",ref:\"registerForm\",attrs:{\"model\":_vm.registerForm,\"status-icon\":\"\",\"rules\":_vm.registerRules,\"label-width\":\"85px\"}},[_c('el-form-item',{attrs:{\"label\":\"账号:\",\"prop\":\"account\"}},[_c('el-input',{attrs:{\"placeholder\":\"输入 账号\",\"maxlength\":\"16\"},model:{value:(_vm.registerForm.account),callback:function ($$v) {_vm.$set(_vm.registerForm, \"account\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"registerForm.account\"}})],1),_vm._v(\" \"),_c('span',{staticClass:\"small pale fr\"},[_vm._v(\"长度6至16位，字母开头，由数字、字母、下划线组成\")]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"密码:\",\"prop\":\"pwd\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"placeholder\":\"输入 密码\"},model:{value:(_vm.registerForm.pwd),callback:function ($$v) {_vm.$set(_vm.registerForm, \"pwd\", $$v)},expression:\"registerForm.pwd\"}})],1),_vm._v(\" \"),_c('span',{staticClass:\"request fr\"},[_vm._v(\"长度6至16位\")]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"确认密码:\",\"prop\":\"checkPwd\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"placeholder\":\"再次输入 密码\"},model:{value:(_vm.registerForm.checkPwd),callback:function ($$v) {_vm.$set(_vm.registerForm, \"checkPwd\", $$v)},expression:\"registerForm.checkPwd\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"邮箱地址:\",\"prop\":\"email\"}},[_c('el-input',{attrs:{\"placeholder\":\"输入 邮箱地址\"},model:{value:(_vm.registerForm.email),callback:function ($$v) {_vm.$set(_vm.registerForm, \"email\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"registerForm.email\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"dividing_01\"}),_vm._v(\" \"),_c('div',{staticClass:\"small fl\"},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t我已了解并同意\\n\\t\\t\\t\\t\\t\\t\\t\"),_c('a',{attrs:{\"href\":\"../#/help/announce\",\"target\":\"_blank\"}},[_vm._v(\"《\"),_c('span',{staticClass:\"blue\"},[_vm._v(\"圣杯网 用户协议与服务条款\")]),_vm._v(\"》\")])]),_vm._v(\" \"),_c('div',{staticClass:\"small fr\"},[_c('router-link',{attrs:{\"to\":\"/user/login\"}},[_vm._v(\"返回登录<-\")])],1)],1):_vm._e(),_vm._v(\" \"),(_vm.registerActive==1)?_c('el-form',{key:\"1\",ref:\"registerForm\",attrs:{\"model\":_vm.registerForm,\"status-icon\":\"\",\"rules\":_vm.registerRules,\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"label\":\"用户名:\",\"prop\":\"name\"}},[_c('el-input',{attrs:{\"placeholder\":\"输入 用户名\",\"maxlength\":\"16\"},model:{value:(_vm.registerForm.name),callback:function ($$v) {_vm.$set(_vm.registerForm, \"name\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"registerForm.name\"}})],1),_vm._v(\" \"),_c('span',{staticClass:\"request fr\"},[_vm._v(\"长度最多16位，不允许带有空格，注册后可免费修改一次\")]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"手机号:\",\"prop\":\"phone\"}},[_c('el-input',{attrs:{\"placeholder\":\"输入 手机号\",\"maxlength\":\"11\"},model:{value:(_vm.registerForm.phone),callback:function ($$v) {_vm.$set(_vm.registerForm, \"phone\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"registerForm.phone\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"small fr\"},[_c('router-link',{attrs:{\"to\":\"/user/login\"}},[_vm._v(\"返回登录<-\")])],1)],1):_vm._e(),_vm._v(\" \"),(_vm.registerActive==2)?_c('el-row',{key:\"2\"},[_c('div',{staticClass:\"large green\",attrs:{\"id\":\"success\"}},[_c('i',{staticClass:\"el-icon-success\"}),_vm._v(\" 注册成功\\n\\t\\t\\t\\t\\t\\t\")]),_vm._v(\" \"),_c('span',{staticClass:\"meduim fr\"},[_c('a',{attrs:{\"href\":\"#\"}},[_vm._v(\"完善个人信息>>\")])])]):_vm._e()],1)],1)],1),_vm._v(\" \"),_c('el-footer',[_c('el-button',{staticClass:\"bold meduim\",attrs:{\"type\":\"primary\",\"loading\":_vm.loading},on:{\"click\":function($event){return _vm.submitForm('registerForm')}}},[_vm._v(_vm._s(_vm.registerActiveStep[_vm.registerActive]))])],1)],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-16321080\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/user/login/Register.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-16321080\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!@/assets/public/css/animate.css\")\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-16321080\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=1!./Register.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Register.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Register.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-16321080\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Register.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-16321080\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/user/login/Register.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}